int[] arr = {1, 2, 3};
int K = 3;

int start = 0;
int sum = 0;
int count = 0;

for (int end = 0; end < arr.length; end++) {
    sum += arr[end];

    while (sum > K) {
        sum -= arr[start];
        start++;
    }

    // all subarrays from start to end are valid
    count += (end - start + 1);
}

System.out.println("Count = " + count);
