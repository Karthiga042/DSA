int[] arr = {2, 1, 3, 4, 1};
int K = 7;

int start = 0;
int sum = 0;
int maxLen = 0;

for (int end = 0; end < arr.length; end++) {
    sum += arr[end];

    while (sum > K) {
        sum -= arr[start];
        start++;
    }

    maxLen = Math.max(maxLen, end - start + 1);
}

System.out.println("Max Length = " + maxLen);
